!function(e,a){"use strict";var n=e.axemas=e.axemas||{};if(n._platform_cache=null,n["goto"]=function(e){("string"==typeof e||e instanceof String)&&(e={url:e}),"unsupported"==n.getPlatform()?window.location="/"+e.url:n.call("goto",e)},n.gotoFromSidebar=function(e){("string"==typeof e||e instanceof String)&&(e={url:e}),"unsupported"==n.getPlatform()?window.location="../"+e.url:n.call("gotoFromSidebar",e)},n.showProgressHUD=function(){n.call("showProgressHUD",{})},n.hideProgressHUD=function(){n.call("hideProgressHUD",{})},n.dialog=function(e,a,t,r){n.call("dialog",{title:e,message:a,buttons:t},r)},n.alert=function(e,a){"unsupported"==n.getPlatform()?alert(e+"\n\n"+a):n.dialog(e,a,["Ok"])},n.getPlatform=function(){if(null!==n._platform_cache)return n._platform_cache;var e="unsupported";return navigator.userAgent.match(/Windows Phone/i)?e="winphone":navigator.userAgent.match(/Android/i)?e="android":navigator.userAgent.match(/iPhone|iPad|iPod/i)&&(e="ios"),n._platform_cache=e,e},n.storeData=function(e,a){"unsupported"==n.getPlatform()?localStorage.setItem(e,a):n.call("storeData",{key:e,value:a})},n.fetchData=function(e,a){if("unsupported"==n.getPlatform()){var t={};t[e]=localStorage.getItem(e),a(t)}else n.call("fetchData",{key:e},a)},n.removeData=function(e){"unsupported"==n.getPlatform()?localStorage.removeItem(e):n.call("removeData",{key:e})},n.log=function(e){("string"==typeof e||e instanceof String)&&(e={tag:"AXEMAS_LOG",message:String(e)}),console.log(e.tag+" - "+e.message),"unsupported"!==n.getPlatform()&&n.call("log",e)},n.call=function(e,a,n){WebViewJavascriptBridge.callHandler(e,a,n)},n.register=function(e,a){WebViewJavascriptBridge.registerHandler(e,a)},"unsupported"==n.getPlatform()&&!e.WebViewJavascriptBridge){var t={},r=function(e,a){t[e]=a},i=function(e,a,n){setTimeout(function(){t[e](a,n)},0)};e.WebViewJavascriptBridge={registerHandler:r,callHandler:i}}if("winphone"==n.getPlatform()&&!e.WebViewJavascriptBridge){var t={},o={},l=1,i=function(e,a,n){var t={type:"CallHandler",handlerName:e,data:a};if(n){var r="cb_"+l++ +"_"+(new Date).getTime();o[r]=n,t.callbackId=r}var i=JSON.stringify(t);window.external.notify(i)},r=function(e,a){t[e]=a},c=function(e,a){var n=o[e];n&&(delete o[e],n(JSON.parse(a)))},s=function(e,a,n){var r=function(e){var a={type:"CallCallback",callbackId:n,data:e},t=JSON.stringify(a);window.external.notify(t)},i=t[e];return i?void i(JSON.parse(a),r):(console.log("No handler in place for message",a),void r({}))};e.WebViewJavascriptBridge={registerHandler:r,callHandler:i,_callJSCallback:c,_callJSHandler:s}}if("android"==n.getPlatform()&&!e.WebViewJavascriptBridge){var t={},o={},l=1,i=function(e,a,n){var t={data:a};if(n){var r="cb_"+l++ +"_"+(new Date).getTime();o[r]=n,t.callbackId=r}var i=JSON.stringify(t);AndroidNativeJS.callAndroid(e,i)},r=function(e,a){t[e]=a},c=function(e,a){var n=o[e];n&&(delete o[e],n(a))},s=function(e,a,n){var r=function(e){AndroidNativeJS.callAndroidCallback(n,JSON.stringify(e))},i=t[e];return i?void i(a,r):(console.log("No handler in place for message",a),void r({}))};e.WebViewJavascriptBridge={registerHandler:r,callHandler:i,_callJSCallback:c,_callJSHandler:s}}if("ios"==n.getPlatform()&&!e.WebViewJavascriptBridge){var d,f=[],t={},u="wvjbscheme",g="__WVJB_QUEUE_MESSAGE__",o={},l=1;window.onload=function(){var e=t.ready;e&&e({url:window.location})};var p=function(e){d=e.createElement("iframe"),d.style.display="none",e.documentElement.appendChild(d)},v=function(e,a){m({data:e},a)},r=function(e,a){t[e]=a},i=function(e,a,n){m({handlerName:e,data:a},n)},m=function(e,a){if(a){var n="cb_"+l++ +"_"+(new Date).getTime();o[n]=a,e.callbackId=n}f.push(e),d.src=u+"://"+g},w=function(){var e=JSON.stringify(f);return f=[],e},_=function(e,a){console.log("No handler in place for message",e),a&&a(null)},b=function(e){setTimeout(function(){var a=JSON.parse(e);if(a.responseId){var n=o[a.responseId];if(!n)return;delete o[a.responseId],n(a.responseData)}else{var n;if(a.callbackId){var r=a.callbackId;n=function(e){m({responseId:r,responseData:e})}}var i=_;a.handlerName&&(i=t[a.handlerName]);try{i(a.data,n)}catch(l){"undefined"!=typeof console&&console.log("WebViewJavascriptBridge: WARNING: javascript handler threw.",a,l)}}})},J=function(e){b(e)};e.WebViewJavascriptBridge={send:v,registerHandler:r,callHandler:i,_fetchQueue:w,_handleMessageFromObjC:J};var h=e.document;p(h)}}(window);var __axemas_WebViewJavascriptBridge_callJSCallback=function(e,a){WebViewJavascriptBridge._callJSCallback(e,a)},__axemas_WebViewJavascriptBridge_callJSHandler=function(e,a,n){WebViewJavascriptBridge._callJSHandler(e,a,n)};
